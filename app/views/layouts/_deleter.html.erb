<script>
	$(document).on('click', '.deleter', function(){
		$(this).addClass('changing');
		var values = $('.changing :input').serialize();
		$(this).removeClass('changing');
		
		$.ajax({
        	url: "/bands/remove",
        	type: "post",
        	data: values,
     	});
     	
		$('.'+$(this).parent().attr('class').split(' ')[1]).each(function() {
			if($(this).children('.mover').hasClass('top')) {
     			$(this).siblings('.bandpic').children('.topimg').attr('src', $(this).next().children('.mover').attr('name'));
     			$(this).next().children('.mover').addClass('top');
     			$(this).children('.mover').removeClass('top');
     		}
	
 			$(this).slideUp(400, function() {
 		 		$(this).remove();
 			});
 		});
	});
</script>
<script>
	$(document).on('click', '.mover', function () {
		$(this).addClass('changing');
		var values = $('.changing :input').serialize();
		$(this).removeClass('changing');
		
		if($(this).hasClass('star-empty')) {
			$.ajax({
        		url: "/bands/star",
        		type: "post",
        		data: values,
     		});
     		
     		$('.'+$(this).parent().attr('class').split(' ')[1]).each(function() {
     			$(this).siblings('.bandpic').children('.topimg').attr('src', $(this).children('.mover').attr('name'));
				$(this).children('.mover').addClass('top');
				$(this).prevAll('.event-individual').children('.top').removeClass('top');
        		$(this).insertBefore($(this).prevAll('.event-individual').last()).hide().slideDown();
        		if($(this).children('.mover').hasClass('star-empty-old')) {
        			$(this).children('.mover').removeClass('star-empty-old');
    				$(this).children('.mover').addClass('star-full-old');
    			}
        		$(this).children('.mover').removeClass('star-empty');
    			$(this).children('.mover').addClass('star-full');
    		});
    	}
    	else {
    		$.ajax({
        		url: "/bands/unstar",
        		type: "post",
        		data: values,
     		});
     		$('.'+$(this).parent().attr('class').split(' ')[1]).each(function() {
     		if($(this).children('.mover').hasClass('top')) {
     			$(this).siblings('.bandpic').children('.topimg').attr('src', $(this).next().children('.mover').attr('name'));
     			$(this).next().children('.mover').addClass('top');
     			$(this).children('.mover').removeClass('top');
     		}
     		
        		$(this).slideUp(function() {
        			$(this).insertAfter($(this).nextAll('.event-individual').last()).slideDown();
        		});
        		if($(this).children('.mover').hasClass('star-full-old')) {
        			$(this).children('.mover').removeClass('star-full-old');
    				$(this).children('.mover').addClass('star-empty-old');
    			}
        		$(this).children('.mover').removeClass('star-full');
    			$(this).children('.mover').addClass('star-empty');
    		});
    	}
    });
</script>
<script>
	$(document).on('click', '.mover2', function () {
		$(this).addClass('changing');
		var values = $('.changing :input').serialize();
		$(this).removeClass('changing');
		
		if($(this).hasClass('star-empty')) {
			$.ajax({
        		url: "/bands/star",
        		type: "post",
        		data: values,
     		});
     		
     		$('.'+$(this).parent().attr('class').split(' ')[1]).each(function() {
        		$(this).children('.mover2').removeClass('star-empty');
    			$(this).children('.mover2').addClass('star-full');
    		});
    	}
    	else {
    		$.ajax({
        		url: "/bands/unstar",
        		type: "post",
        		data: values,
     		});
     		$('.'+$(this).parent().attr('class').split(' ')[1]).each(function() {
        		$(this).children('.mover2').removeClass('star-full');
    			$(this).children('.mover2').addClass('star-empty');
    		});
    	}
    });
</script>
<script>
	$(document).on({
		mouseenter: function() {
			$(this).siblings('.playbutton').css("background-image", "url(https://s3.amazonaws.com/concerts-assets/images/play_button_hover_orange_border.png)");
		},
		mouseleave: function() {
			$(this).siblings('.playbutton').css("background-image", "url(https://s3.amazonaws.com/concerts-assets/images/play_button.png)");
		}
	}, ".bandpic");
</script>
<script>
	$(document).on({
		mouseenter: function() {
			$(this).css("background-image", "url(https://s3.amazonaws.com/concerts-assets/images/play_button_hover_orange_border.png)");
		},
		mouseleave: function() {
			$(this).css("background-image", "url(https://s3.amazonaws.com/concerts-assets/images/play_button.png)");
		}
	}, ".playbutton");
</script>
<script>
	$('.logo').on('click',function () {
		$('.container').load('/ .container');
	});
</script>
<script>
	$(document).on('click', '.middle2', function() {
		$('.container').load('/week .container');
	});
</script>
<script>
	$(document).on('click', '.middle1', function() {
		$('.container').load('/ .container');
	});
</script>
<script>
	$('.logo').on('click', function() {
		$('.container').load('/ .container');
	});
</script>
<script>
	$('.spotify').on('click', function() {
		if($('.spotify-widget').is(':visible')) {
			$('.spotify-widget').fadeOut('slow');
		} else {
			$('.spotify-widget').fadeIn('slow');
		}
	});
</script>
<script>
	$('.youtube').on('click', function() {
		if($('.youtube-player').is(':visible')) {
			$('.youtube-player').fadeOut('slow');
		} else {
			$('.youtube-player').fadeIn('slow');
		}
	});
</script>
<script>
	$(document).on('click','.bandpic', function() {
		if ($(this).children('.topimg').attr('src') === "http://userserve-ak.last.fm/serve/252/93516511.png") {
			$('#ytplayer').attr('src', "https://www.youtube.com/embed/6h9XUYj96ho");
		}
	});
</script>
<script>
	$(document).on('click','.AgnesObel', function() {
		$(this).siblings('.event-individual2').toggle();
		$(this).siblings('.littleinfo2').toggle();
		$(this).siblings('.event-individual3').toggle();
		$(this).parent().parent().css('height', 'auto');
	})
</script>
<script>
	$(document).on('click','.curr-venue2', function() {
		$('.container').load('/events/3785640 .container');
	});
</script>